<!DOCTYPE html>
<html>
  <head>
  	<link rel="stylesheet" type="text/css" href=index.css>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Table Demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  </head>
  <section class="hero is-primary">
	  <div class="hero-body">
	    <div class="container">
	      <p class="title">Industry Job Opportunites</p>
	      <p class="subtitle">Below is a table of open positions and their requirements.</p>
	    </div>
	  </div>
  </section>
  <!--<body>
  	<nav class="level">
	    <div class="container">
	      <table class="table is-responsive">
	      	<thead>
	      		<tr>
	      			<th>Company</th>
	        		<th>Job Title</th>
	        		<th>Field (CS, Bio, Bioinfo)</th>
	        		<th>Required Skills</th>
	        		<th>Apply</th>
	        	</tr>
	        </thead>
	        <tbody>
		      <tr>
		        <td>Lorem ipsum - cell A1</td>
		        <td>Lorem ipsum - cell B1</td>
		        <td>Lorem ipsum - cell C1</td>
		        <td>Lorem ipsum - cell D1</td>
		        <td>Lorem ipsum - cell E1</td>
		      </tr>
		      <tr>
		        <td>Lorem ipsum - cell A2</td>
		        <td>Lorem ipsum - cell B2</td>
		        <td>Lorem ipsum - cell C2</td>
		        <td>Lorem ipsum - cell D2</td>
		        <td>Lorem ipsum - cell E2</td>
		      </tr>
		      <tr>
		        <td>Lorem ipsum - cell A3</td>
		        <td>Lorem ipsum - cell B3</td>
		        <td>Lorem ipsum - cell C3</td>
		        <td>Lorem ipsum - cell D3</td>
		        <td>Lorem ipsum - cell E3</td>
		      </tr>
		      <tr>
		        <td>Lorem ipsum - cell A4</td>
		        <td>Lorem ipsum - cell B4</td>
		        <td>Lorem ipsum - cell C4</td>
		        <td>Lorem ipsum - cell D4</td>
		        <td>Lorem ipsum - cell E4</td>
		      </tr>
		      <tr>
		        <td>Lorem ipsum - cell A5</td>
		        <td>Lorem ipsum - cell B5</td>
		        <td>Lorem ipsum - cell C5</td>
		        <td>Lorem ipsum - cell D5</td>
		        <td>Lorem ipsum - cell E5</td>
		      </tr>
		      <tr>
		        <td>Lorem ipsum - cell A6</td>
		        <td>Lorem ipsum - cell B6</td>
		        <td>Lorem ipsum - cell C6</td>
		        <td>Lorem ipsum - cell D6</td>
		        <td>Lorem ipsum - cell E6</td>
		      </tr>
		      </tbody>
		    </table>  
	    </div>
	  </nav>
	</body>
	-->
	<body>
		<input type="button" onclick="CreateTableFromJSON()" value="Create Table From JSON" />
    <div id="showData"></div>
	</body>

  <script>
		function CreateTableFromJSON() {
			var jobs = [
				{
					"Company" :"GRAIL",
					"Job Title" : "Software Engineer",
					"Field" : "CS",
					"Preferred Skills": "Web Development",
					"Application Link" : "grail.com/careers"
				},
				{
					"Company" :"GRAIL2",
					"Job Title" : "Software Engineer2",
					"Field" : "CS2",
					"Preferred Skills": "Web Development2",
					"Application Link" : "grail.com/careers2"
				}
			]

			//Get headers 
			// 'Company', 'Job Title', 'Field', 'Preferred Skill', 'Application Link'
			var col = [];
			for(var i = 0; i < jobs.length; i++) {
				for(var key in jobs[i]) {
					if (col.indexOf(key) === -1) {
						col.push(key);
					}
				}
			}

			//create dynamic table
			var _table = document.createElement("table");

			//create table header row using extracted headers
			var _tr = _table.insertRow(-1); //Table row

			for(var i = 0; i < col.length; i++) {
				var _th = document.createElement("th");
				_th.innerHTML = col[i];
				_tr.appendChild(_th);
			}
			
			//add rest of json data to table
      for (var i = 0; i < jobs.length; i++) {

            _tr = _table.insertRow(-1);

            for (var j = 0; j < col.length; j++) {
                var _tabCell = _tr.insertCell(-1);
                _tabCell.innerHTML = jobs[i][col[j]];
            }
        }

        // Add newly made table with json data to a div    
        //  already in div so not sure if need this**
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(_table);
        
		}
  </script>
</html>